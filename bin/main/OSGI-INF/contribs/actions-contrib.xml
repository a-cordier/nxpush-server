<?xml version="1.0"?>
<component name="fr.univlille2.ecm.scan.imports.actions">

	<extension target="org.nuxeo.ecm.platform.actions.ActionService"
		point="actions">
		<action id="scanbutton" label="Code scanner" enabled="true"
			order="0" link="#{scanRepoIdGenerator.doGet()}">
			<category>SUBVIEW_UPPER_LIST</category>
			<filter-id>filter@scanImports</filter-id>
		</action>
	</extension>
	
	<extension target="org.nuxeo.ecm.platform.actions.ActionService"
		point="filters">

		<filter id="filter@scanImports">
			<rule grant="true">
				<condition>#{scanRepoIdGenerator.accept()}</condition>
			</rule>
		</filter>
	</extension>
	
</component>